
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_example/low_level/plot_explore.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_auto_example_low_level_plot_explore.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_example_low_level_plot_explore.py:


Explore the FMU
===============

.. GENERATED FROM PYTHON SOURCE LINES 13-18

| Knowledge about the FMU is necessary to setup a probabilistic approach:
| - What is the name of the FMU variables ?
| - Which are the inputs, outputs, parameters ?
| - Which are booleans, reals, integers ?
| - What is their default start value ?

.. GENERATED FROM PYTHON SOURCE LINES 20-21

First, retrieve and load the FMU *deviation.fmu*.

.. GENERATED FROM PYTHON SOURCE LINES 21-26

.. code-block:: default


    import otfmi.example.utility
    path_fmu = otfmi.example.utility.get_path_fmu("deviation")
    model = otfmi.fmi.load_fmu(path_fmu)








.. GENERATED FROM PYTHON SOURCE LINES 27-28

Let require the FMU variables names:

.. GENERATED FROM PYTHON SOURCE LINES 28-32

.. code-block:: default


    list_name = otfmi.fmi.get_name_variable(model)
    print(list_name)





.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    ['E', 'F', 'I', 'L', 'y']




.. GENERATED FROM PYTHON SOURCE LINES 33-35

| This command shows all variables : inputs, parameters, outputs.
| Let identify their causality in the model:

.. GENERATED FROM PYTHON SOURCE LINES 35-40

.. code-block:: default


    for name in list_name:
        causality = otfmi.fmi.get_causality_str(model, name)
        print("{}: {}".format(name, causality))





.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    E: INPUT
    F: INPUT
    I: INPUT
    L: INPUT
    y: OUTPUT




.. GENERATED FROM PYTHON SOURCE LINES 41-43

| Yet the variables type is not known: real, integer, boolean, string?
| Let check using `PyFMI's method <http://shorturl.at/dJ157>`_:

.. GENERATED FROM PYTHON SOURCE LINES 43-48

.. code-block:: default


    for name in list_name:
        typ = model.get_variable_data_type(name)
        print("{}: {}".format(name, typ))





.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    E: 0
    F: 0
    I: 0
    L: 0
    y: 0




.. GENERATED FROM PYTHON SOURCE LINES 49-51

| The type `0` corresponds to `Real` (aka "float") variables. 
| Let check the variables default start value in the FMU:

.. GENERATED FROM PYTHON SOURCE LINES 51-55

.. code-block:: default


    dict_start_value = otfmi.fmi.get_start_value(model)
    print(dict_start_value)





.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    {'E': 30000000.0, 'F': 30000.0, 'I': 400.0, 'L': 250.0}




.. GENERATED FROM PYTHON SOURCE LINES 56-59

.. note::
   Function `otfmi.fmi.get_start_value` only returns the start value of
   variables with types Real, Integer or Boolean.

.. GENERATED FROM PYTHON SOURCE LINES 61-62

With this knowledge on the FMU variables, we can now simulate it (with
non-default initialization values if required).


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  0.029 seconds)


.. _sphx_glr_download_auto_example_low_level_plot_explore.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download sphx-glr-download-python

     :download:`Download Python source code: plot_explore.py <plot_explore.py>`



  .. container:: sphx-glr-download sphx-glr-download-jupyter

     :download:`Download Jupyter notebook: plot_explore.ipynb <plot_explore.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
